{"ast":null,"code":"var _jsxFileName = \"/Users/natanaelprudhomme/Workspaces/dapp-workers/uis/jobs/src/containers/Home/Home.jsx\";\nimport React, { Component } from 'react';\nimport classes from './Home.module.scss';\nimport Header from '../../components/Header/Header';\nimport Jobs from '../../components/Home/Jobs/Jobs';\nimport RunJob from '../../components/Home/RunJob/RunJob';\nimport Footer from '../../components/Footer/Footer';\nimport lib from '../../lib/index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ethereum = window.ethereum;\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      account: null,\n      jobs: [],\n      form: {\n        consumer: '',\n        imageName: '',\n        inputFS: '',\n        args: ''\n      }\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    const accounts = ethereum.request({\n      method: 'eth_requestAccounts'\n    });\n    lib.web3.fetchJobs(this);\n    this.setState({\n      account: accounts[0]\n    });\n  }\n\n  handleChange(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    const {\n      form\n    } = this.state;\n    this.setState({\n      form: { ...form,\n        [name]: value,\n        error: ''\n      }\n    });\n    console.log(this.state.form);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        login: () => lib.metamask.login(this),\n        logout: () => lib.metamask.logout(this),\n        account: this.state.account\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Jobs, {\n        jobs: this.state.jobs\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(RunJob, {\n        runJob: () => lib.web3.runJob(this.state.form.consumer, this.state.form.imageName, this.state.form.inputFS, this.state.form.args),\n        onChange: this.handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/natanaelprudhomme/Workspaces/dapp-workers/uis/jobs/src/containers/Home/Home.jsx"],"names":["React","Component","classes","Header","Jobs","RunJob","Footer","lib","ethereum","window","Home","constructor","props","state","account","jobs","form","consumer","imageName","inputFS","args","handleChange","bind","componentDidMount","accounts","request","method","web3","fetchJobs","setState","event","name","value","target","error","console","log","render","metamask","login","logout","runJob"],"mappings":";AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,IAAP,MAAiB,iCAAjB;AACA,OAAOC,MAAP,MAAmB,qCAAnB;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,GAAP,MAAgB,iBAAhB;;AAEA,MAAMC,QAAQ,GAAGC,MAAM,CAACD,QAAxB;;AAEA,MAAME,IAAN,SAAmBT,SAAnB,CAA6B;AACzBU,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAE,IADA;AAETC,MAAAA,IAAI,EAAE,EAFG;AAGTC,MAAAA,IAAI,EAAE;AACFC,QAAAA,QAAQ,EAAE,EADR;AAEFC,QAAAA,SAAS,EAAE,EAFT;AAGFC,QAAAA,OAAO,EAAE,EAHP;AAIFC,QAAAA,IAAI,EAAE;AAJJ;AAHG,KAAb;AAUA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChB,UAAMC,QAAQ,GAAGhB,QAAQ,CAACiB,OAAT,CAAiB;AAAEC,MAAAA,MAAM,EAAE;AAAV,KAAjB,CAAjB;AACAnB,IAAAA,GAAG,CAACoB,IAAJ,CAASC,SAAT,CAAmB,IAAnB;AACA,SAAKC,QAAL,CAAc;AAAEf,MAAAA,OAAO,EAAEU,QAAQ,CAAC,CAAD;AAAnB,KAAd;AACH;;AAEDH,EAAAA,YAAY,CAACS,KAAD,EAAQ;AAChB,UAAM;AAAEC,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAkBF,KAAK,CAACG,MAA9B;AACA,UAAM;AAAEjB,MAAAA;AAAF,QAAW,KAAKH,KAAtB;AACA,SAAKgB,QAAL,CAAc;AACVb,MAAAA,IAAI,EAAE,EACF,GAAGA,IADD;AAEF,SAACe,IAAD,GAAQC,KAFN;AAGFE,QAAAA,KAAK,EAAE;AAHL;AADI,KAAd;AAOAC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKvB,KAAL,CAAWG,IAAvB;AACH;;AAEDqB,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA,8BACI,QAAC,MAAD;AACI,QAAA,KAAK,EAAE,MAAI9B,GAAG,CAAC+B,QAAJ,CAAaC,KAAb,CAAmB,IAAnB,CADf;AAEI,QAAA,MAAM,EAAE,MAAIhC,GAAG,CAAC+B,QAAJ,CAAaE,MAAb,CAAoB,IAApB,CAFhB;AAGI,QAAA,OAAO,EAAE,KAAK3B,KAAL,CAAWC;AAHxB;AAAA;AAAA;AAAA;AAAA,cADJ,eAMI,QAAC,IAAD;AACI,QAAA,IAAI,EAAE,KAAKD,KAAL,CAAWE;AADrB;AAAA;AAAA;AAAA;AAAA,cANJ,eASI,QAAC,MAAD;AACI,QAAA,MAAM,EAAE,MAAIR,GAAG,CAACoB,IAAJ,CAASc,MAAT,CACR,KAAK5B,KAAL,CAAWG,IAAX,CAAgBC,QADR,EAER,KAAKJ,KAAL,CAAWG,IAAX,CAAgBE,SAFR,EAGR,KAAKL,KAAL,CAAWG,IAAX,CAAgBG,OAHR,EAIR,KAAKN,KAAL,CAAWG,IAAX,CAAgBI,IAJR,CADhB;AAOI,QAAA,QAAQ,EAAE,KAAKC;AAPnB;AAAA;AAAA;AAAA;AAAA,cATJ,eAkBI,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,cAlBJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAsBH;;AA1DwB;;AA6D3B,eAAeX,IAAf","sourcesContent":["\nimport React, { Component } from 'react';\nimport classes from './Home.module.scss';\nimport Header from '../../components/Header/Header';\nimport Jobs from '../../components/Home/Jobs/Jobs';\nimport RunJob from '../../components/Home/RunJob/RunJob';\nimport Footer from '../../components/Footer/Footer';\nimport lib from '../../lib/index';\n\nconst ethereum = window.ethereum;\n\nclass Home extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            account: null,\n            jobs: [],\n            form: {\n                consumer: '',\n                imageName: '',\n                inputFS: '',\n                args: '',\n            }\n        }\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    componentDidMount() {\n        const accounts = ethereum.request({ method: 'eth_requestAccounts' });\n        lib.web3.fetchJobs(this);\n        this.setState({ account: accounts[0] });\n    }\n\n    handleChange(event) {\n        const { name, value } = event.target;\n        const { form } = this.state;\n        this.setState({\n            form: {\n                ...form,\n                [name]: value,\n                error: '',\n            },\n        });\n        console.log(this.state.form)\n    }\n  \n    render() {\n        return (\n            <div>\n                <Header\n                    login={()=>lib.metamask.login(this)}\n                    logout={()=>lib.metamask.logout(this)}\n                    account={this.state.account}\n                />\n                <Jobs\n                    jobs={this.state.jobs}\n                />\n                <RunJob\n                    runJob={()=>lib.web3.runJob(\n                        this.state.form.consumer,\n                        this.state.form.imageName,\n                        this.state.form.inputFS,\n                        this.state.form.args\n                    )}\n                    onChange={this.handleChange}\n                />\n                <Footer/>\n            </div>\n        );\n    }\n  }\n  \n  export default Home;\n  "]},"metadata":{},"sourceType":"module"}