{"ast":null,"code":"import Web3 from 'web3';\nimport NexusJSON from '../../abi/Nexus.json';\nconst jobs = [];\n\nconst fetchJobs = async () => {\n  const web3 = new Web3('http://localhost:8545');\n  const contractAddress = \"0x94D387F50569200aDACFd903345D077ef6ABcE11\";\n  const contract = new web3.eth.Contract(NexusJSON.abi, contractAddress);\n  console.log(contract);\n  const lastJob = await contract.methods.lastJobID().call();\n\n  for (let i = 0; i < lastJob; i++) {\n    const job = await contract.methods.jobs(i).call();\n    jobs.push(job);\n  }\n\n  console.log(jobs);\n};\n\nmodule.exports = {\n  fetchJobs\n};","map":{"version":3,"sources":["/Users/natanaelprudhomme/Workspaces/dapp-workers/uis/jobs/src/lib/web3/index.js"],"names":["Web3","NexusJSON","jobs","fetchJobs","web3","contractAddress","contract","eth","Contract","abi","console","log","lastJob","methods","lastJobID","call","i","job","push","module","exports"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,MAAjB;AACA,OAAOC,SAAP,MAAsB,sBAAtB;AAEA,MAAMC,IAAI,GAAG,EAAb;;AAEA,MAAMC,SAAS,GAAG,YAAY;AAC1B,QAAMC,IAAI,GAAG,IAAIJ,IAAJ,CAAS,uBAAT,CAAb;AACA,QAAMK,eAAe,GAAG,4CAAxB;AACA,QAAMC,QAAQ,GAAG,IAAIF,IAAI,CAACG,GAAL,CAASC,QAAb,CAAsBP,SAAS,CAACQ,GAAhC,EAAoCJ,eAApC,CAAjB;AACAK,EAAAA,OAAO,CAACC,GAAR,CAAYL,QAAZ;AACA,QAAMM,OAAO,GAAG,MAAMN,QAAQ,CAACO,OAAT,CAAiBC,SAAjB,GAA6BC,IAA7B,EAAtB;;AACA,OAAI,IAAIC,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAGJ,OAAjB,EAA0BI,CAAC,EAA3B,EAA+B;AAC3B,UAAMC,GAAG,GAAG,MAAMX,QAAQ,CAACO,OAAT,CAAiBX,IAAjB,CAAsBc,CAAtB,EAAyBD,IAAzB,EAAlB;AACAb,IAAAA,IAAI,CAACgB,IAAL,CAAUD,GAAV;AACH;;AACDP,EAAAA,OAAO,CAACC,GAAR,CAAYT,IAAZ;AACH,CAXD;;AAaAiB,MAAM,CAACC,OAAP,GAAiB;AACbjB,EAAAA;AADa,CAAjB","sourcesContent":["import Web3 from 'web3';\nimport NexusJSON from '../../abi/Nexus.json';\n\nconst jobs = [];\n\nconst fetchJobs = async () => {\n    const web3 = new Web3('http://localhost:8545');\n    const contractAddress = \"0x94D387F50569200aDACFd903345D077ef6ABcE11\";\n    const contract = new web3.eth.Contract(NexusJSON.abi,contractAddress);\n    console.log(contract);\n    const lastJob = await contract.methods.lastJobID().call();\n    for(let i=0; i < lastJob; i++) {\n        const job = await contract.methods.jobs(i).call();\n        jobs.push(job);\n    }\n    console.log(jobs);\n}\n\nmodule.exports = { \n    fetchJobs\n}"]},"metadata":{},"sourceType":"module"}