{"ast":null,"code":"const ethereum = window.ethereum;\n\nconst login = async thisObject => {\n  const accounts = await ethereum.request({\n    method: 'eth_requestAccounts'\n  });\n  thisObject.setState({\n    account: accounts[0]\n  });\n};\n\nconst logout = async thisObject => {\n  thisObject.setState({\n    account: null\n  });\n};\n\nconst handleConnect = thisObject => {\n  ethereum.on('connect', connectInfo => {\n    console.log(connectInfo);\n  });\n};\n\nconst handleDisconnect = thisObject => {\n  ethereum.on('disconnect', error => {\n    console.log(error);\n  });\n};\n\nconst handleAccountChange = thisObject => {\n  ethereum.on('accountsChanged', account => {\n    console.log('hit change');\n    thisObject.setState({\n      account\n    });\n  });\n};\n\nconst handleChainChange = thisObject => {\n  ethereum.on('chainChanged', chainId => {\n    console.log('hit change chainId');\n    thisObject.setState({\n      chainId\n    });\n  });\n};\n\nconst runHandlers = thisObject => {\n  handleConnect(thisObject);\n  handleDisconnect(thisObject);\n  handleAccountChange(thisObject);\n  handleChainChange(thisObject);\n};\n\nexport default {\n  login,\n  logout,\n  runHandlers\n};","map":{"version":3,"sources":["/Users/natanaelprudhomme/Workspaces/dapp-workers/uis/jobs/src/lib/metamask/index.js"],"names":["ethereum","window","login","thisObject","accounts","request","method","setState","account","logout","handleConnect","on","connectInfo","console","log","handleDisconnect","error","handleAccountChange","handleChainChange","chainId","runHandlers"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,MAAM,CAACD,QAAxB;;AAEA,MAAME,KAAK,GAAG,MAAOC,UAAP,IAAsB;AAChC,QAAMC,QAAQ,GAAG,MAAMJ,QAAQ,CAACK,OAAT,CAAiB;AAAEC,IAAAA,MAAM,EAAE;AAAV,GAAjB,CAAvB;AACAH,EAAAA,UAAU,CAACI,QAAX,CAAoB;AAAEC,IAAAA,OAAO,EAAEJ,QAAQ,CAAC,CAAD;AAAnB,GAApB;AACH,CAHD;;AAKA,MAAMK,MAAM,GAAG,MAAON,UAAP,IAAsB;AACjCA,EAAAA,UAAU,CAACI,QAAX,CAAoB;AAAEC,IAAAA,OAAO,EAAE;AAAX,GAApB;AACH,CAFD;;AAIA,MAAME,aAAa,GAAIP,UAAD,IAAgB;AAClCH,EAAAA,QAAQ,CAACW,EAAT,CAAY,SAAZ,EAAwBC,WAAD,IAAiB;AACpCC,IAAAA,OAAO,CAACC,GAAR,CAAYF,WAAZ;AACH,GAFD;AAGH,CAJD;;AAMA,MAAMG,gBAAgB,GAAIZ,UAAD,IAAgB;AACrCH,EAAAA,QAAQ,CAACW,EAAT,CAAY,YAAZ,EAA2BK,KAAD,IAAW;AACjCH,IAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACH,GAFD;AAGH,CAJD;;AAMA,MAAMC,mBAAmB,GAAId,UAAD,IAAgB;AACxCH,EAAAA,QAAQ,CAACW,EAAT,CAAY,iBAAZ,EAAgCH,OAAD,IAAa;AACxCK,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACAX,IAAAA,UAAU,CAACI,QAAX,CAAoB;AAAEC,MAAAA;AAAF,KAApB;AACH,GAHD;AAIH,CALD;;AAOA,MAAMU,iBAAiB,GAAIf,UAAD,IAAgB;AACtCH,EAAAA,QAAQ,CAACW,EAAT,CAAY,cAAZ,EAA6BQ,OAAD,IAAa;AACrCN,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACAX,IAAAA,UAAU,CAACI,QAAX,CAAoB;AAAEY,MAAAA;AAAF,KAApB;AACH,GAHD;AAIH,CALD;;AAOA,MAAMC,WAAW,GAAIjB,UAAD,IAAgB;AAChCO,EAAAA,aAAa,CAACP,UAAD,CAAb;AACAY,EAAAA,gBAAgB,CAACZ,UAAD,CAAhB;AACAc,EAAAA,mBAAmB,CAACd,UAAD,CAAnB;AACAe,EAAAA,iBAAiB,CAACf,UAAD,CAAjB;AACH,CALD;;AAOA,eAAe;AACXD,EAAAA,KADW;AAEXO,EAAAA,MAFW;AAGXW,EAAAA;AAHW,CAAf","sourcesContent":["const ethereum = window.ethereum;\n\nconst login = async (thisObject) => {\n    const accounts = await ethereum.request({ method: 'eth_requestAccounts' });\n    thisObject.setState({ account: accounts[0] });\n}\n\nconst logout = async (thisObject) => {\n    thisObject.setState({ account: null });\n}\n\nconst handleConnect = (thisObject) => {\n    ethereum.on('connect', (connectInfo) => {\n        console.log(connectInfo);\n    });\n}\n\nconst handleDisconnect = (thisObject) => {\n    ethereum.on('disconnect', (error) => {\n        console.log(error);\n    });\n}\n\nconst handleAccountChange = (thisObject) => {\n    ethereum.on('accountsChanged', (account) => {\n        console.log('hit change')\n        thisObject.setState({ account });\n    });\n}\n\nconst handleChainChange = (thisObject) => {\n    ethereum.on('chainChanged', (chainId) => {\n        console.log('hit change chainId')\n        thisObject.setState({ chainId });\n    });\n}\n\nconst runHandlers = (thisObject) => {\n    handleConnect(thisObject);\n    handleDisconnect(thisObject);\n    handleAccountChange(thisObject);\n    handleChainChange(thisObject);\n}\n\nexport default { \n    login,\n    logout,\n    runHandlers\n}"]},"metadata":{},"sourceType":"module"}